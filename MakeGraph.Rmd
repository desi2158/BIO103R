---
title: "Examining and visualizing data"
author: "Bio 103"
date: "Lab 1"
output:
  pdf_document: default
  html_document:
    highlight: pygments
    theme: flatly
---

###The R Software

If you are using your own computer you will need the software R and the friendly user interface RStudio if you do not have them already. 

* Download R from https://cran.r-project.org/  
* Click on the file to install it  
* Download RStudio from https://www.rstudio.com/products/rstudio/download3/  
* Install it  
* Open RStudio  
* Select File - New Project  
* Select New Directory and Empty Project  
* Give the project a name  
* Browse to the subdirectory you would like to do your work and record this folder in your notes 

You now have three windows open: a console where commands are run, an environment that show what data you have, and a file window. It also helps to keep track of the commands you are running using a script.

* Select File - New File - R Script

Now you have a fourth window to keep track of commands.  

###The data

Input your data using Google Sheets.

* In your browser go to https://www.google.com/sheets  
* Click on the + to make a new sheet  
* Enter your data  
* Click File - Download as - tsv. Save the file to your project folder (the place where you made your new RStudio project) (tsv = tab separated values)

```{r, echo=FALSE, warning=FALSE}
catchtime <- read.table('catchtimes.tsv',header = TRUE, sep="\t", row.names = 1)
```

It should look like the following if you open it in a text editor.

```{r, echo=FALSE, comment=NA}
catchtime
```

###Examine Your Data

Load your data into R. You are reading in a table with read.table. When you read the table you need to tell R that there is a "header" (the exam labels), how the columns are separated (with a tab denoted in R by "\t"), and that the first item in the row is the name not actual data. Note - use the name of your file if it is not "catchnames.tsv". 

* Type this command in the script (not in the console or you will lose track of it as the window scrolls)  

```{r, warning=FALSE}
catchtime <- read.table('catchtimes.tsv',header = TRUE, sep="\t", row.names = 1)
```

* Click on the line you want to run in the script  
* Click Run in the upper right of the window  
* Try changing your command slightly and rerun it to see the effect of each piece of the command. For example, try deleting row.names = 1.  
* Rerun the original command to make sure you have loaded your data correctly  
* View your data by typing  
```{r, comment=NA}
catchtime
```

You can also get some information about your data. 

* Calculate the mean (average) for one dataset (in our example we use Time1).

```{r, comment=NA}
mean(catchtime$Time1)
```

* Calculate the standard deviation  

```{r, comment=NA}
sd(catchtime$Time1)
```

Or you can get several "summary statistics" all at once. First you will need to get the function to do this. If you are using your own computer you must install this function just this once.

* In the console window type install.packages("psych")  
* Type
```{r, warning=FALSE}
library(psych)
```

Now you can "describe" your data. Note all the information you get with this command: the mean, median, standard deviation, number of observations, minimum value, maximum value, etc.

```{r, comment=NA}
describe(catchtime)
```

You will need to save all this information into a "variable". You've already seen variables: "catchtime" is a variable containing all the example data. 

```{r}
catch_info <- describe(catchtime)
```

###Visualize Your Data

Now we want to visualize the data. Putting the data in a figure makes it much easier to understand than trying to read a column of numbers. First lets graph the mean of each exam. To do so, you will need to use the "plot" function, then tell R to graph just the "mean" out of all the information in our summary statistic. Select a single column using the $.

```{r}
plot(catch_info$mean)
```

You should see the data is plotted, but the labels are not very helpful. Fix the labels on the plot by setting "xlab" and "ylab", and removing the unclear index. Then add in the correct x axis information.

```{r}
plot(catch_info$mean, xlab='Catch', ylab='Average Time (s)', xaxt='n')
axis(side=1,at=1:3,labels=colnames(catchtime))
```

At this point you can see the mean, but that doesn't help us understand the variation in the data. Let's add the standard deviation of each data point to our graph. To do this, we use the "arrows" to draw a line for each data point. We first specify the x and y values of where the lines are being drawn from. The x values are 1,2,3. These are put into a list using c(). The y values are the mean - sd. Then we specify the end-point of each arrow in the same way: first the list of x values c(1,2,3), then the list of y values (mean + sd). Because we're not really drawing arrows, we need to add some additional information to make the little sideways lines and put them at both ends. 

```{r}
plot(catch_info$mean, xlab='Catch', ylab='Average Time (s)', xaxt='n')
axis(side=1,at=1:3,labels=colnames(catchtime))
arrows(c(1,2,3), catch_info$mean - catch_info$sd, c(1,2,3),catch_info$mean +
         catch_info$sd, angle = 90, code = 3, length = 0.05)
```

Now let’s change the y axis to make your results clearer. For this dataset the time goes up to 9 seconds so we’ll make the y-axis go from 0 to 10 in this example (you will need to consider the appropriate range for your data).

```{r}
plot(catch_info$mean, xlab='Catch', ylab='Average Time (s)', xaxt='n', ylim=c(0,10))
axis(side=1,at=1:3,labels=colnames(catchtime))
arrows(c(1,2,3), catch_info$mean - catch_info$sd, c(1,2,3),catch_info$mean +
         catch_info$sd, angle = 90, code = 3, length = 0.05)
```

Now save the graph using the Export button above the figure.

###Visualize Your Data Better

Note that in our example the time to catch the ruler goes down, but there's a lot of variation. A better visualization is to use a boxplot, which shows the full range of the data, as well as the median and quartiles. It's also a really easy plot to make.

```{r}
boxplot(catchtime)
```

Now adjust your axes and labels as needed for your own data and save this plot.

Write a short description of each plot and an explanation of the similarities and differences. To learn about boxplots read https://en.wikipedia.org/wiki/Box_plot

There are other ways to draw graphs, including adding color and labels. We have chosen a method that is relatively straightforward. We will continue to graph data over the course of the semester.
